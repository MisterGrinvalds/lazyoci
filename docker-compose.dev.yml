# Local OCI registry for development and testing.
# Usage: make registry-up / make registry-down
#
# The registry runs on localhost:5000 with no authentication or TLS,
# which is appropriate for local development only.
# See https://distribution.github.io/distribution/about/deploying/
services:
  registry:
    image: registry:3
    ports:
      - "5050:5000"
    restart: unless-stopped
    environment:
      # Disable OpenTelemetry trace export for local dev
      OTEL_TRACES_EXPORTER: none
    volumes:
      - registry-data:/var/lib/registry

volumes:
  registry-data:
